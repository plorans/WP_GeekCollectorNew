(()=>{"use strict";var e={8424:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{Z:()=>u});var c=function(){return s((function e(){a(this,e),this.events={}}),[{key:"param",value:function(e,t){var n=[];for(var a in e)if(e.hasOwnProperty(a)){var o=t?t+"["+a+"]":a,s=e[a];n.push(null!==s&&"object"===r(s)?this.param(s,o):encodeURIComponent(o)+"="+encodeURIComponent(s))}return n.join("&")}},{key:"event",value:function(e){return e in this.events||(this.events[e]=new EventTarget(e)),this.events[e]}},{key:"autocomplete",value:function(e,t){new l(e,t)}},{key:"ucfirst",value:function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}},{key:"ordinal_suffix",value:function(e){var t=e%100;if(t<11||t>13)switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"}},{key:"tabs",value:function(e){var t=e.getElementsByClassName("trn-nav-link"),n=document.getElementsByClassName("trn-tab-pane"),r=function(e){var r=document.querySelector('a[href="#'+e+'"].trn-nav-link'),a=r&&r.dataset&&r.dataset.target||!1;a&&(Array.prototype.forEach.call(t,(function(e){e.classList.remove("trn-nav-active"),e.ariaSelected=!1})),Array.prototype.forEach.call(n,(function(e){return e.classList.remove("trn-tab-active")})),r.classList.add("trn-nav-active"),r.ariaSelected=!0,document.getElementById(a).classList.add("trn-tab-active"))},a=function(e){var t=e.currentTarget,n=t&&t.dataset&&t.dataset.target||!1;n&&(r(n),e.preventDefault())};Array.prototype.forEach.call(t,(function(e){e.addEventListener("click",a)})),location.hash?r(location.hash.substr(1)):t.length>0&&r(t[0].dataset.target)}}])}();window.trn_obj_instance||(window.trn_obj_instance=new c,window.addEventListener("load",(function(){var e=document.getElementsByClassName("trn-nav");Array.from(e).forEach((function(e){u.tabs(e)}));var t=document.getElementsByClassName("trn-dropdown-toggle"),n=function(){Array.from(t).forEach((function(e){e.nextElementSibling.classList.remove("trn-show")})),document.removeEventListener("click",n,!1)};Array.from(t).forEach((function(e){e.addEventListener("click",(function(e){e.stopPropagation(),this.nextElementSibling.classList.add("trn-show"),document.addEventListener("click",n,!1)}),!1)}))}),!1));var u=window.trn_obj_instance,l=function(){return s((function e(t,n){var o=this;a(this,e),this.nameInput=t,this.nameInput.addEventListener("input",(function(){var e,t,a,s=o.nameInput.value,i=o.nameInput.parentNode;n(s).then((function(n){if(console.log(n),o.closeAllLists(),!s)return!1;for(o.currentFocus=-1,(e=document.createElement("DIV")).setAttribute("id",o.nameInput.id+"-auto-complete-list"),e.setAttribute("class","trn-auto-complete-items"),i.appendChild(e),a=0;a<n.length;a++){var c=void 0,u=void 0;"object"===r(n[a])?(c=n[a].text,u=n[a].value):(c=n[a],u=n[a]),c.substr(0,s.length).toUpperCase()===s.toUpperCase()&&((t=document.createElement("DIV")).innerHTML="<strong>"+c.substr(0,s.length)+"</strong>",t.innerHTML+=c.substr(s.length),t.innerHTML+="<input type='hidden' value='"+u+"'>",t.dataset.value=u,t.dataset.text=c,t.addEventListener("click",(function(e){console.log("item clicked with value ".concat(e.currentTarget.dataset.value)),o.nameInput.value=e.currentTarget.dataset.text,o.nameInput.dataset.selectedId=e.currentTarget.dataset.value,o.closeAllLists(),o.nameInput.dispatchEvent(new Event("change"))})),e.appendChild(t))}}))})),this.nameInput.addEventListener("keydown",(function(e){var t=document.getElementById(o.nameInput.id+"-auto-complete-list");t&&(t=t.getElementsByTagName("div")),40===e.keyCode?(o.currentFocus++,o.addActive(t)):38===e.keyCode?(o.currentFocus--,o.addActive(t)):13===e.keyCode&&(e.preventDefault(),o.currentFocus>-1&&t&&t[o.currentFocus].click())})),document.addEventListener("click",(function(e){o.closeAllLists(e.target)}))}),[{key:"addActive",value:function(e){if(!e)return!1;this.removeActive(e),this.currentFocus>=e.length&&(this.currentFocus=0),this.currentFocus<0&&(this.currentFocus=e.length-1),e[this.currentFocus].classList.add("trn-auto-complete-active")}},{key:"removeActive",value:function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("trn-auto-complete-active")}},{key:"closeAllLists",value:function(e){console.log("close all lists");for(var t=document.getElementsByClassName("trn-auto-complete-items"),n=0;n<t.length;n++)e!==t[n]&&e!==this.nameInput&&t[n].parentNode.removeChild(t[n])}}])}();String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,(function(t,n){return void 0!==e[n]?e[n]:t}))})}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(8424).Z,window.addEventListener("load",(function(){var e=trn_player_profile_options,t=document.getElementById("trn-edit-player-profile-form");t.addEventListener("submit",(function(n){n.preventDefault();var r=new XMLHttpRequest;r.open("POST",e.api_url+"players/"+t.dataset.playerId),r.setRequestHeader("X-WP-Nonce",e.rest_nonce),r.onload=function(){console.log(r);var n=JSON.parse(r.response);if(200===r.status){if(document.getElementById("trn-update-response").innerHTML='<div class="trn-alert trn-alert-success"><strong>'.concat(e.language.success,"!</strong> ").concat(e.language.success_message,"</div>"),n.avatar.length>0){var a=t.getElementsByClassName("profile-picture");1===a.length&&a[0].setAttribute("src",e.avatar_upload_path+n.avatar)}}else 409===r.status?document.getElementById("trn-update-response").innerHTML='<div class="trn-alert trn-alert-warning"><strong>'.concat(e.language.failure,":</strong> ").concat(function(e){return e.replace(/</g,"&lt;")}(n.message.replace(/&(?!([a-z0-9]+|#[0-9]+|#x[a-f0-9]+);)/gi,"&amp;")),"</div>"):document.getElementById("trn-update-response").innerHTML='<div class="trn-alert trn-alert-danger"><strong>'.concat(e.language.failure,":</strong> ").concat(e.language.failure_message,"</div>")},r.send(new FormData(t))}))}),!1)})();